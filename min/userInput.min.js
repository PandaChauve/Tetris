angular.module("angularApp.factories").factory("userInput",[function(){"use strict";var a=function(){function b(a){c.keyCodes[a.data.key]=!0}var c=this;this.keyCodes={};var d=this;this._onKeyDown=function(a){d._onKeyChange(a)},document.addEventListener("keydown",this._onKeyDown,!1),$("#moveUp").click({obj:this,key:a.ALIAS.up},b),$("#moveDown").click({obj:this,key:a.ALIAS.down},b),$("#moveLeft").click({obj:this,key:a.ALIAS.left},b),$("#moveRight").click({obj:this,key:a.ALIAS.right},b),$("#swapBtn").click({obj:this,key:a.ALIAS.space},b)};return a.prototype.destroy=function(){document.removeEventListener("keydown",this._onKeyDown,!1)},a.ALIAS={left:37,up:38,right:39,down:40,space:32,pageup:33,pagedown:34,tab:9,enter:13},a.prototype.clear=function(){this.keyCodes={}},a.prototype._onKeyChange=function(b){var c=b.keyCode;this.keyCodes[c]=!0,(c===a.ALIAS.space||c>=a.ALIAS.left&&c<=a.ALIAS.down)&&b.preventDefault()},a.prototype.pressed=function(a){return this.keyCodes[a]===!0},a.prototype.getMapping=function(b){return a[b]},a.leftMapping={swap:32,down:83,up:90,left:81,right:68,speed:65},a.rightMapping={swap:96,down:a.ALIAS.down,up:a.ALIAS.up,left:a.ALIAS.left,right:a.ALIAS.right,speed:a.ALIAS.enter},new a}]);