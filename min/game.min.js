function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}function Game(a,b,c){"use strict";this.config=a,this.grid=b,this.tetris=[],this.visual=[],this.kb=new UserInput,this.stateChecker=new StateChecker(a.victory),this.tobefixed=[2,2],this.stop=!1,this.id=-1,this.start=null,this.pause=!1,this.tics=0,this.stats=new GameStats,this.stats.gameCount+=1,void 0===c?this.callback=null:this.callback=c,this.Init()}Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)},Game.prototype.Stop=function(){"use strict";window.cancelAnimationFrame(this.id),this.stop=!0;for(var a=0;a<this.visual.length;a+=1)this.visual[a].clear(),this.visual[a]=null},Game.CreateRenderingFct=function(a){return function(b){a.render(b)}},Game.prototype.Start=function(){this.id=requestAnimationFrame(Game.CreateRenderingFct(this))},Game.prototype.Init=function(){"use strict";for(var a=0;a<this.config.tetris.length;a+=1){this.tetris.push(new Tetris(this.grid,this.config.tetris[a].cursors,this.stats));for(var b=0;b<this.config.tetris[a].mappings.length;b+=1)this.tetris[a].keyBoardMappings.push(UserInput[this.config.tetris[a].mappings[b]]);this.visual.push(new ThreeRenderer(this.config.tetris[a].cursors)),this.visual[a].LinkDom(this.config.tetris[a].gameBox),this.visual[a].RenderTetris(this.tetris[a])}},Game.prototype.SplitScreenQuickFix=function(){"use strict";if(2===this.tetris.length){for(;this.tobefixed[0]<this.tetris[1].GetScore()/3;)this.tobefixed[0]+=1,this.tetris[0].RandomFall();for(;this.tobefixed[1]<this.tetris[0].GetScore()/3;)this.tobefixed[1]+=1,this.tetris[1].RandomFall()}},Game.prototype.TogglePause=function(a){"use strict";return this.stop?!1:(void 0===a?this.pause=!this.pause:this.pause=a,this.pause?window.cancelAnimationFrame(this.id):(this.id=requestAnimationFrame(Game.CreateRenderingFct(this)),this.start=null),this.kb.clear(),this.pause)},Game.prototype.render=function(a){"use strict";var b;null===this.start&&(this.start=a-this.tics/TIC_PER_SEC*1e3);var c=a-this.start;$(".timeBox").html(TimeFromTics(this.tics));for(var d=!0,e=0;this.tics<c*TIC_PER_SEC/1e3&&d&&10>e;){for(e+=1,this.tics+=1,b=0;b<this.tetris.length;b+=1)this.tetris[b].OneTick(this.kb),$("#"+this.config.tetris[b].scoreBox).html(this.tetris[b].GetScore()),this.stateChecker.Check(this.tetris[b]),this.stateChecker.Defeat()||this.stateChecker.Victory()?(d=!1,this.visual[b].Freeze()):void 0!==this.config.victory&&void 0!==this.config.victory.swaps?$("#"+this.config.tetris[b].swapBox).html(this.config.victory.swaps-this.tetris[b].GetSwaps()):$("#"+this.config.tetris[b].swapBox).html(this.tetris[b].GetSwaps());this.kb.clear()}if(d&&!this.stop){for(b=0;b<this.tetris.length;b+=1)this.visual[b].RenderTetris(this.tetris[b]);this.SplitScreenQuickFix(),this.id=requestAnimationFrame(Game.CreateRenderingFct(this))}else d||null!==this.callback&&this.callback(this)};