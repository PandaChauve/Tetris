var statsControllers=angular.module("angularApp.controllers");
statsControllers.controller("ScoresCtrl",["$scope","$http",function(a,d){a.isActive=function(c){return c===a.type};a.activate=function(c){a.type=name;a.getScores(c)};a.getScores=function(c){d.get("http://sylvain.luthana.be/api.php?get&map="+c).success(function(b){a.scoreGridData=b})};a.activate("classic");a.scoreTypes=[{type:"classic",name:"Classic"},{type:"ultralarge",name:"Wide"},{type:"sandbox",name:"Sandbox"},{type:"ultralargecoop",name:"Coop"}]}]);
statsControllers.controller("AchievementsCtrl",["$scope",function(a){var d=new AchievementsState,c=0;a.achievementsGridData=[];for(var b=0;b<AchievementsState.List.enumSize;b+=1)a.achievementsGridData.push({Picture:"./Resources/imgs/placeholder.png",Name:AchievementsState.List.GetName(b),Success:d.IsWon(b),Description:AchievementsState.List.GetDescription(b)}),d.IsWon(b)&&(c+=1);a.percentComplete=c/AchievementsState.List.enumSize*100}]);
statsControllers.controller("StatCtrl",["$scope",function(a){var d=UserStats.GetUserStats();a.isPositive=function(a){return 0<a};a.isActive=function(b){return b===a.data.active};a.activate=function(b){$("#"+a.data.active).hide();$("#"+b).show();a.data.active=b};var c=function(a){a.best=d.GetBestGameStats(a.link);a.sum=d.GetTotalGameStats(a.link);return a};a.data={active:"Classic"};a.data.maps=[];a.data.maps.push(c({name:"Classic",link:"classic"}));a.data.maps.push(c({name:"Wide",link:"ultralarge"}));
a.data.maps.push(c({name:"SandBox",link:"sandbox"}));a.data.maps.push(c({name:"Coop",link:"ultralargecoop"}));a.data.maps.push(function(){var b,c={name:"Overall",link:""};c.best=new GameStats;c.sum=new GameStats;for(b=0;b<a.data.maps.length;b+=1)GameStats.KeepBest(c.best,a.data.maps[b].best),GameStats.Append(c.sum,a.data.maps[b].sum);return c}())}]);
